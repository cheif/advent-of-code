import Foundation
import Shared

private func findVerticalMirrors(grid: Grid<Character>) -> [Int: Int] {
    var result: [Int: Int] = [:]
    for col in grid.xRange {
        let len = min(col, grid.xRange.upperBound - col + 1)
        guard len != 0 else {
            continue
        }
        let diff = (0..<len).flatMap { offset in
            return grid.yRange.map { y in
                grid.points[Position(x: col-offset-1, y: y)]?.val == grid.points[Position(x: col+offset, y: y)]?.val
            }.map { $0 ? 0 : 1}
        }.sum
        result[col] = diff
    }
    return result
}

private func findHorizontalMirrors(grid: Grid<Character>) -> [Int: Int] {
    var result: [Int: Int] = [:]
    for row in grid.yRange {
        let len = min(row, grid.yRange.upperBound - row + 1)
        guard len != 0 else {
            continue
        }
        let diff = (0..<len).flatMap { offset in
            return grid.xRange.map { x in
                grid.points[Position(x: x, y: row-offset-1)]?.val == grid.points[Position(x: x, y: row+offset)]?.val
            }.map { $0 ? 0 : 1 }
        }.sum
        result[row] = diff
    }
    return result
}

private func reflection(grid: Grid<Character>, validDiff: Int) -> Int {
    let validMirrors = findVerticalMirrors(grid: grid).filter { $0.value == validDiff }.map(\.key) +
    findHorizontalMirrors(grid: grid).filter { $0.value == validDiff }.map(\.key).map { $0 * 100 }
    return validMirrors.sum
}

public let day13 = Solution(
    part1: { input in
        let grids = input.split(separator: "\n\n")
            .map { sub in
                Grid(lines: sub.split(whereSeparator: \.isNewline).map { $0.map { $0 } })
            }
        return grids.map { reflection(grid: $0, validDiff: 0) }.sum
    },
    part2: { input in
        let grids = input.split(separator: "\n\n")
            .map { sub in
                Grid(lines: sub.split(whereSeparator: \.isNewline).map { $0.map { $0 } })
            }
        // 22115 is not correct
        return grids.map { reflection(grid: $0, validDiff: 1) }.sum
    },
    testResult: (405, 400),
    testInput: """
#.##..##.
..#.##.#.
##......#
##......#
..#.##.#.
..##..##.
#.#.##.#.

#...##..#
#....#..#
..##..###
#####.##.
#####.##.
..##..###
#....#..#
""",
    input: """
##...######...##.
......#..#.......
##.##########.###
###..........###.
...#..#..#..#...#
##..###..###..###
..##.#.##.#.##..#
..####.##.####..#
####........####.
..#.##.##.##.#..#
##.###.##.###.###
###.#......#.####
......####......#
#..#.##..##.#..##
..#.########.#...
##...######...##.
..#.##....##.#..#

...##......#.
...#.......#.
#......##.###
.##########.#
#####.###.##.
###.####.##..
###.####.##..
#####.###.##.
.##########.#

#.##..#
##.#.#.
##.#.##
#.##..#
...####
#.#..#.
#.#..#.

.##.#..
.##.###
..#####
#..####
.####..
.#...##
##...##

#.#.....#.##.##.#
#.#.....#.##.##.#
.....#...#####...
...#.###....#...#
.###..####.#..#.#
#.###.#.#..###..#
..####...##.#.##.
..####...##.#.##.
#.#.#.#.#..###..#
.###..####.#..#.#
...#.###....#...#
.....#...#####...
#.#.....#.##.##.#

###.####.#..#
#...##.##..#.
.#.##.#.###.#
.#..#.#.###.#
#.#...##.#.##
##.#..##.#..#
##.#...#.#..#
#.#...##.#.##
.#..#.#.###.#
.#.##.#.###.#
#...##.##..#.
###.####.#..#
#..#..#..#.##
.#...#.#..#.#
.#...#.#..#.#
#..#..#..#.##
###.####.#..#

.#.#..#..
..#.##.#.
..#.##.#.
##.#..#..
.#.#.#.##
...#...##
...#...##

.#......#..##.###
.###..###.##.####
.##....##.#####.#
#.######.##...##.
##.#..#.##.###..#
#...##...#.#.###.
..##..##.........
#..####.###....#.
.#.####.#.#####..
.##....##.##..##.
###.##.####....##
#..#..#..#..##...
#..####..#####...
#..####..#####...
#..#..#..#..##...

...#....#
###.####.
###....#.
.#..####.
..##.##.#
#####..##
#..######
#####..##
.###.##.#
..##....#
..##....#
..##....#
..##....#
.###.##.#
#####..##

#.##...##.#
##..#####..
##..##.#.#.
.####......
#.##.###...
..##....###
##..####...
##..####...
..##....###
#.##.###...
.####......
##..##.#.#.
##..#####..

..###...#
..###...#
.#..##.##
.###....#
...####.#
..###.#.#
#.#..#.#.
#.#..#.#.
..###.###
...####.#
.###....#
.#..##.##
..###...#

...#..#.###....
#.#....#..#....
..##......##.#.
##.#.####.#.###
##..##.#..###.#
#######...##..#
..#.#...###.#..
..#####..######
###.##..#..####
##.######..#...
##.######..#...
###.##..#..####
..#####..######
..#.#...###.#..
#######...##..#

#.##.##
#.##.##
..###.#
..###.#
..####.
......#
.....#.
.#..##.
.#..##.
.....#.
......#
..####.
..###.#
..###.#
#.#####

##..#..#.
..###..##
###.###..
###......
....#..#.
...#.##.#
.....##..
##...##..
##.#....#

.#..#.##..##.#..#
#.#...##..##...#.
#.#...##..##...#.
.#..#.##..##.#..#
.###....##....###
###..#..##..#..##
#.#...######...#.
...##...##..###..
#...#.######.#...

..#..#....#.###
#.####....#..##
###..###..#....
.#.##.#....##..
#......#...##..
.#.##.#..###.##
..#..#..#.#.#..
.######.#.#..##
###..####..####
##.##.###......
...##...###....

###..###..#####..
.#...#.....##....
.##............#.
####...#.####....
#....#.#.##.#..#.
##....#.#.#..#..#
#.#.###..#..#..##
#.#.###.##..#..##
##....#.#.#..#..#
##....#.#.#..#..#
#.#.###.##..#..##
#.#.###..#..#..##
##....#.#.#..#..#

##..#..#.#.##.#
##.#.#.#...####
####..##...#.#.
..##.#....#.#..
..##.#....#.#..
###...##...#.#.
##.#.#.#...####
##..#..#.#.##.#
#######.###...#

....#.##..#..#.
#..###.....##..
#..#.###.##..##
#######.##.##.#
.##..#....####.
....##..#......
####..#.#.#..#.
..#.####.##..##
.##...##.#.##.#
....#..#.##..##
.....#..#.####.
.##..##....##..
....#.##...##..

##....#....##
.....###.####
.####....##.#
.####....##.#
.....###.####
##....#....##
.....#.###...
###.#.#...###
###.#.#...###
.....#.###...
##....#.....#

############.##
#..######..#.##
#...####...####
...######......
#.###..###.#.##
#..##..##..####
.###....###.###
#.#......#.#.##
..########..##.

......#
####.##
.##.#..
#..###.
....##.
###.#..
#####..
#####..
###.#..
....##.
#..###.
.##.#..
####.##
......#
....#.#
....###
....#.#

.#.##.###.#..
.#...#.#...##
.##..#####...
.##..#####...
.#...#.#...##
##.##.###.#..
.##.##..#.###
###..#.#...##
.#.##....##..
##..##..###..
##..##.#.#.##
...#.#..#####
.##.#.#.###..
..##..#.#.###
..#.##....#..
#.#####.#..##
.####..###...

..#.##.##########
.##..#.#...#....#
..#.##...###....#
...#.#..#..##..##
.#..#........##..
.#..#........##..
#..#.#..#..##..##
..#.##...###....#
.##..#.#...#....#
..#.##.##########
#.#.####..#.####.
.##.###..##......
###.#..###.######

.##..#.#..#.#.#
.##..#.#..#.#.#
#.#.#.##..#.#..
#..#....##.##..
#.....##.#.#.#.
#..#.....#.###.
..##.##..#####.
###..#..#.###.#
..##...#.......
.#...###.#.##.#
.##..###.#.##.#
..##...#.......
###..#..#.###.#
..##.##..#####.
#..#.....#.###.

.########
....####.
####...##
####....#
#..#.##.#
##.##..##
##.##..##

#........##
.##.##.##..
...####....
##.####.###
###.##.####
#..#..#..##
.#......#..
..#.##.#...
.##.##.##..
.#####.##..
..######...
.#.#..#.#..
.##....##..
.##.##.##..
..#....#...

#########.#######
.#.##....##.#..#.
##.##.##.##.####.
.##.##..##.##..##
.#.########.#..#.
....##..##.......
..#........#....#
#.#.#.##.#.#.##.#
.###.####.###..##
##...#..#...####.
.#....##....#..#.
.#.#.####.#.#..#.
#..########..##..
####.#..#.#######
####.#..#.#######
...#.#..#.#......
..###.##.###....#

.#.####.....#####
.###.##.#.#...###
#.#.#######.#####
#..#...###..#....
#.#.##.#.#.####..
.#.#..#.#..#..#..
##.#..#.#..#..#..

.........##.#.#
..#######....##
.###...####..#.
....#.#.#.##...
.###.#.#....#.#
#.##...##...##.
.##...#.#.....#
.##...#.#.....#
#.##...##...##.
.###.#.#....#.#
....#.#.#.##...
.###...####....
..#######....##
.........##.#.#
.........##.#.#

....##...
......###
#..##..##
.##.#.#..
#..##....
.##.#...#
#######.#
#..#.##.#
#..####.#

##.####.#######
...####...#.##.
#.#.##.#.###..#
..######..#####
....##....#....
....##......##.
.#..##..#.###.#
#...##...#.....
##..##..#######
.##.##.##..#..#
#..####..#.....
...#..#....#..#
#.##..##.#.####

##.#.##
...####
####...
..#..##
...##..
###.#.#
.....##
##.####
..#....

.###.##.#...#..
.#.....#..###.#
.#.....#..###.#
.###..#.#...#..
.###.####..##..
.###.#....#.##.
#.#..##.......#
##..#.##.#...#.
...#..#....#...
##...##...#.##.
##...##...#.##.
...#..#....#...
##..#.##.#...#.
#.#..##.......#
.###.#....#.##.

#...#....##..
......###..##
.##..#...##..
####.##......
..##.##......
##.....######
..#.#..######
.#.#.#.######
.#..###.####.
#............
.####....##..
.##.#####..##
.##.###..##..
###..#.######
#...#.#######
..#.#........
##...##......

##.#.....
..#..#.#.
....#.#.#
....#..#.
....#..#.
....#.#.#
..#..#.#.
##.#.....
.####....
#######..
###.###..
.####....
##.#.....

#.###.###
.##.#..#.
#.#.####.
.#.######
#...#..#.
#.##....#
.#...##..
#.#.####.
###.#..#.
...#....#
#.#######
#.#######
...#....#
###.#..#.
#.#.####.
.#...##..
#.##....#

....##.
#..#..#
.##....
####..#
#..####
....##.
#......

#..##..#.
.##..##..
#..##..##
........#
.##..##..
########.
........#
###..####
#..##..#.
#..##..##
.##..##.#
.##..##..
#..##..#.

#...#.#..#.#.
####.......##
..###.#..#.##
.######..####
#######..####
....###..###.
#.##...##...#
.###...##...#
.##.##....##.
......#..#...
#.#..........
#.#.##.##.##.
#.#.##.##.##.
#.#..........
......#..#...
.##.##....##.
.###...##...#

.##....#....#
#####.##....#
.#.....#....#
##..#####..##
...###.##..##
#.#.####....#
###..........
####.#..####.
##.##.#......
...##########
......###..##
###.#.###..##
#.###...#..#.
#####...#..#.
###.#.###..##

####.#.#..#.#
#####..#..#..
#..###..##..#
####.########
.....########
####..######.
.##..##....##
.##.#........
.##.#..####..
.##....####..
#..#..#.##.#.
....##.####.#
######..##..#
#####..#..#..
##.###.####.#
#..##.######.
....#########

...#.....##
####..#.###
#########..
...##.....#
..#..#.....
......#.##.
##.#.......
###...##.##
....#####..
....#####..
###...##..#
##.#.......
......#.##.

##..###
..##...
#.##.##
..##...
#.##.##
.#..#..
#.##.##
#.##.#.
#....##
##..###
.#..#..

....##.##.##.
..#.###..###.
#.#.##....##.
##..#.####.##
#...#.#..#.#.
###..#....#..
#####.####.##
..#..######..
#...########.
#...########.
..#..######..
#####.####.##
###..#....#..

##....##..#
###..######
.#....#....
###..######
#.####.####
#......####
.######....
###..######
..####..##.
.######....
...#....##.
##.##.#####
..#..#.....

##..#.#####..##.#
.#..###........##
.#...#.###..#.#.#
.#...#.###..#.#.#
.#..###........##
##..#.##.##..##.#
.#.#..##.##....#.
####.####.#.##..#
.#####...###..#..
.###...##.#####..
#..##.#....####..
#.#.#.###..#.#.##
##..#..####..#.##
..#..##..#####.#.
..#.#.#..#.###..#
..#.#.#..#.###..#
..#..##..#####.#.

..#...########.
##.#..###..###.
...##..#.##.#..
.#...#..####..#
######...##...#
...#..#.####.#.
......##....##.

..#..#.
...####
...####
..#..#.
..#...#
####...
#..#...
##....#
#.#...#
####.##
..##.##
.#.#..#
...#.#.
#.####.
#.#.##.

.##...###
.##...###
#.##.##..
##.#..###
#####....
.#.......
#.#.#....
##.##.###
..###..#.
##.##.#..
##..#.#..
..###..#.
##.##.###
#.#.#....
.#.......
#####....
##.#..###

.#..###.#.#.##..#
###.#.#.#.#.#....
....#..##.#..####
#.....#...#.##..#
#..##..###.##....
..#.#.##.###.....
##.#....#.#######
...###.#.#.######
####.##....#..##.
..####.....#.###.
#####..###.#.####
...##....#.######
#...##....#.#.##.
##.#...##.#.#####
.##.##.#.###.....
.########..##....
.########..##....

....#.##...##
##.....#.#...
..##..##..#..
##.#.##....##
..##.....#.##
.#..#.##.#...
.#...#.######
.#...#.######
.#..#.##.#...
..##.....#.##
##.#.##....##
..##..##..#..
##....##.#...

.#..#...#.#...#
..##..#..##.###
.#..#.##.#.#...
..##..##.#.###.
#....###.....##
#....###.....##
..##..##.#.###.
.#..#..#.#.#...
..##..#..##.###
.#..#...#.#...#
##..##...####.#
.#..#..###.##..
#....##.#..##.#
#.##.######....
..##..#..#.####

.#.#.##...####...
.#.#.###...######
####..#.#........
####..#.#.....#..
.#.#.###...######
.#.#.##...####...
######.#......##.
##.#...#.....#.#.
#.#.#.#.#.#.#.#.#
#..####.###...###
..#.###.#.##.#..#
...####.#.#.#..##
...####.#.#.#..##

....#.#.#.##..#
##...#..#..#.##
####.##..##..##
#.###.#.##.#.#.
..#.##.#...####
..#.##.#...####
#.###.#.##...#.
#.#..#..###...#
#.#..#..###...#
#.###.#.##...#.
..#.##.#...####
..#.##.#...####
#.###.#.##.#.#.

##....##...
#..##..#.#.
#..##..###.
##....##...
.##..##..##
.#.##.#.#.#
..#..#..##.
##....##...
..#..#.....

..###.#...##.####
.##....#...#..##.
.#####...########
.#####...########
.##....#...#..##.
..###.#...##.####
#.#.##.#.##.##..#
.#....##...##....
....##..#.#.##..#
..####.#.###.#..#
.#####....##.....
..#..#...........
#.####..........#

#.#..#.##
.#.##.#..
##....###
.##..##..
...##....
...##....
.##..##..
##....###
.#.##.#..
#.#..#.#.
##....##.
..####...
.#....#.#

....##...##..
.##.#..#.#.##
#..##....###.
#..##....###.
.##.#..###.##
....##...##..
#..#.##.#.##.
.##.###..##.#
#######.##...
#####..####..
#..###.....#.

#.####.....
.###...#..#
###...##..#
#.##..#####
#.##..#####
###...##..#
.###...#..#
#.####.....
..#..##.##.
...#.######
.....#.####
#.##.##.##.
#####.##.##

#######.##...####
#######.##...####
.#....##....###..
.......#...#..#..
.###...#.#######.
#.#######.#####..
.##.#.###...#..##
...#..####..##...
..#.##.#.##..#..#
..#.##.#.##..#..#
...#..##.#..##...
.##.#.###...#..##
#.#######.#####..
.###...#.#######.
.......#...#..#..
.#....##....###..
#######.##...####

##..#.#...#
...########
...#.##....
####.###..#
...#.#..##.
....##.....
...##...##.
##...#..##.
...##...##.
###.#..####
..###.##..#
....####..#
..##...####
..#.#.#....
##..#.##..#
..###.#####
####..#....

..###.##..#....##
...##.#.#..#...#.
##..##....###.#.#
##..##....###.#.#
...##.#.#..##..#.
..###.##..#....##
##....###..####..
###...####.....##
#####..###...##..
..#..#.###...#...
....####.##..#.##

...#....##....#
...##.#....#.##
#.#.##..##..#..
.######.##.####
.##.###....###.
#..###.#..#.###
#.###.######.##
.##..###..###..
.##..###..###..
#.###.######.##
#..###.#..#.###

###.###
##..#..
###.#..
###.#..
##...##
..##...
##.##..
###.#..
..#####
##.##.#
..#####
..#....
##..###

#..#.#.#..#.#
.##.#.##..##.
#####..#..#..
#..###.#..#.#
####..##..##.
......#.##.#.
#..##...##...
.##....####..
#..####....##
..#..#......#
#..#.#.####.#

.......#.##
##..##.#..#
##..##.###.
..##..#....
.#..#.#..##
......#.#..
........#..
########.##
......#..##
######..###
########..#
......##.#.
##########.

.#.#.####.#.#..
##...####...##.
..#.######.#..#
####.#..#.#####
####......####.
##..#.##.#..###
##..##..##..###
....#....#....#
###.######.###.
..............#
##.########.##.

.#..#..
...###.
...###.
.#..#..
.##....
##..###
...#.##
..#.#..
..#...#
#.##..#
#.#...#

...#...
#..##..
...##..
.#.##..
.#.##..
...##..
#..##..
#..#...
#.#####
#...#..
#.#.#..
#.#....
....#..
....###
..###..
.#..#..
..#..##

...#...###.....
.#.##...#.##.##
#.#.###....#.##
..#.##...#.##..
#.####.###...##
...##.#.#.##...
####..##.#..###
.##.#...#..####
.#....###.##...
#.#....##..####
##.###..#####..
.#......##.#.##
##...###.......
#..#..#.#.#..##
#..#..#.#.#..##
##...###...#...
.#......##.#.##

.##..##
####.##
.##.#..
#####..
#####.#
.##.###
#..####
#..#...
####.##
#..#.##
....#..

####.#..#..#####.
#...#......#.#.##
#...#....#.#.#.##
####.#..#..#####.
##..#...#...#....
#..#...#.#...###.
....#...#####.#.#
#...##..###...#.#
.#.#.####.###.#..
#.....##..#.##.##
##..#####..#.#.#.
##..#####..#.#.#.
#.....##..#.##.##

#....##..##..#.
..##...###.#...
..##...###.#...
#....##..##..#.
.#..#.#####.##.
#.##.##...#.#.#
#.##.##...###..
#....#....#.#..
#.........#...#

#####..####..##
#..##.#....#.##
#..##.#####..##
.##..##....##..
....#..#..#..#.
#..#..######..#
.##.#.##..##.#.
....#........#.
#####........##

##....#####.##.
.#.##.#.##..##.
.######.....##.
........##.#..#
###..######.##.
..#..#...#.....
........##.####
#......#.##....
##....##..#.##.
.#.##.#..#..##.
..####....#####
#..#...#..#####
.##..##..#.#..#
#......#.##.##.
#..##..#..##..#

...####..#.#.####
..#..#.####.##..#
.....###.###..##.
.....#######..##.
..#..#.####.##..#
...####..#.#.####
.#.###..##.#.#..#
#.##.######..#..#
.#..#.##..#.##..#
.#.#....###.#.##.
.#..###..#.##.##.
..##..###...#####
##...#...#.......
#..#.###..#..####
##..#...#....####

.##.#........##..
#####.#.#....#.##
#####.#.#....#.##
.##.#.#......##..
...###.#####...#.
####.######.#.#.#
..#.#.#...#.#.###
##.#.###...#.#.#.
##.#.###...#.#.#.

..##.###.
.##..##.#
###.#.#..
##..#.#.#
#.#.##.##
#.#..#.##
##..#.#.#
###.#.#..
.##..##.#
..##.###.
..##.###.

#.#.#..#.#.#....#
#.########.#.##.#
####....####.##.#
#....##....######
...######...####.
#.##.##.##.###.##
.#.######.#..##..
#####..######..##
....####....####.

##.#..#.###
..##..##...
##.#..#.###
....##.....
#.#....#.##
.###..###..
#.#....#.##
#.##..##.##
#.######.##
.#......#..
###....####
.###..###..
#.#.##.#.##
#.#....#.##
.####.###..

.#..#..###...##
..##.....#.#...
.####.####.....
.#..#.#.##.##..
######.###.####
#.##.#..#.....#
######.#..##.#.
######.#..##.#.
#.##.#..#.....#
######.###.####
.#..#.#.##.##..
.####.#.##.....
..##.....#.#...

##..##...####..
.####..###..###
#....##.##..##.
#.##.##.#.##.#.
......#.######.
#.##.###.#..#.#
..##..####..###
#....#.#.#..#..
........#....#.
......###....##
.......##.##.##
#.##.#..#.##.#.
..##...##.##.##
#.##.###......#
.......########
.####.##..##..#
.####.#.##..##.

#..####..#.###.
##......##.#..#
###.##.###...##
#.#....#.#.##.#
#.#....#.#.##.#
###.##.###...##
##......##.#..#
#..####..#.###.
##..##..###..##
##########.#...
.##....##.##...
.#.#..#.#.##.#.
#.#...##.##.#.#
.##.##.##.##.##
#############.#

##.#..#######.###
#....##..#..#.#.#
#...###..#..#.#.#
##.#..#######.###
##.#...#.##...###
##.#...#.##...###
##.#..#######.###
#...###..#..#.#.#
#....##..#..#.#.#
##.#..#######.###
#..#......###...#
.#..###..#.......
......#..##.##...
.#.#...##.#..####
..#..##..#.#.###.

.###..##.##
.###..##.##
##...#....#
.#.##.#..##
#...#.##...
##.#...####
####.#.##..

..#...#..#...
##....####...
##..#.#..#.#.
##.####..####
###..##..##..
..##.#....#.#
##...........
....#.####.#.
..##.##..##.#
####..#..#..#
.....######..
..##.#.##.#.#
..#.#..##....

..#..#...
###....##
##.##...#
##..#.#..
##.#...#.
##..#..#.
..#####.#
..##..##.
########.
#######..
..##..##.
..#####.#
##..#..#.

####..###.##.#.
####..###.##...
.##..####.####.
#..##...##.###.
.##..###.......
#..#.##..#.#...
#..#####.##.#.#
.##....#..#.#.#
.##.#####.##.#.
.##..#...###..#
#..##..#.#...#.
#..#.##....#...
#####...####..#

#..##....##..####
#....####....#..#
#..#.####.#..####
###.##..##.###..#
#.#.#.##.#.#.#..#
##..#.##.#..#####
...##.##.##...##.
#..#..##.##..####
#.#.#.##.#.#.#..#
.##.#....#.##.##.
...#.#..#.#...##.
..##..##..##..##.
..##......##.....

.....#..##..#
##...########
.#.#....##...
#.#.#........
.#...########
...##########
######..##..#

.#..#..#.
.#..#..#.
##..#####
#.##.##..
.#..#.###
##...#.#.
#....#.##

...#.##.#
..######.
##...#..#
##...##.#
..######.
...#.##.#
###.#..#.
###..#...
###.#.##.
...###.##
..##.#..#

#.#########
#..........
####.####.#
###.##..##.
.###.#..#.#
##...#####.
....#....#.
.#.#..##..#
.#.#..##..#

#########.#..
##.##.###.#..
##....##...##
###..####....
.#.##.#.###.#
##.##.####.##
.#.##.#.#..##
.##..##.#.#..
#.#..#.#..###
#.#..#.######
..####..#..##
##.##.####...
##....#######
###..#####...
.#.##.#.#.###
.#.##.#.##.##
##....##.....

#####.#...#
.##...####.
.###...##.#
.....#.....
.....#..#..
##..#..#..#
..###..##..
#####.####.
##...#..##.
..#.#.....#
..#.#.....#
##...#..##.
#####.####.
..###..##..
##..#..#..#
.....#..#..
.....#.....

.##.....####..#
.....#........#
#..#.####..####
####...#.##.#..
####.#.######.#
....##...##...#
####.#.#.##.#.#
......#.#..#.#.
#..####......##
####...######..
#..####..##..##
#..##.#.####.#.
......##.##.##.

##.########
##.########
.#..##.##.#
##.#.######
....##.##.#
#.###..##..
..##...##..
..#####..##
#.#.#######
..##.#.##.#
....#......
.#####....#
#.#.#..##..
.#.##.#..#.
#.#....##..
.#.####...#
#..##......

.#....#.#####.#.#
#.#...##..###.###
#.##.#..##..##..#
.....#.###.#...##
.##..#....###.#..
.#..#...#..#.#.#.
.#..#.#..#.##.###
.#..#.#..#.##.###
.#..#...#..#.#...
.##..#....###.#..
.....#.###.#...##
#.##.#..##..##..#
#.#...##..###.###
.#....#.#####.#.#
.#....#.#####.#.#

##..##...
###.##...
#.###..#.
#.###..#.
###.##...
##..##...
#....#...
#####..#.
##..#####
#.##..#.#
.###.#.#.
###.###.#
...###...
"""
)

